<!DOCTYPE html>
<html>
<head>
	<title>Registration</title>
</head>
<body>
	<!DOCTYPE html>
<html>
<head>
	<title>Login Page</title>
</head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/utils.css">
<body>
	<header>
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<a class="navbar-brand" href="../View/Bankdashboard.php"><img src="../Image/cryptologo.png" alt=""></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			  <span class="navbar-toggler-icon"></span>
			</button>
		  
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
			  <ul class="navbar-nav mr-auto">
				<li class="nav-item active">
				  <a class="nav-link" href="../View/clientlogin.html">Registration <span class="sr-only">(current)</span></a>
				</li>
				<li class="nav-item">
				  <a class="nav-link" href="../View/Bankdashboard.php">Home</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../View/clientlogin.html">Login</a>
				  </li>
			  </ul>
			  <form class="form-inline my-2 my-lg-0">
				<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
				<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
			  </form>
			</div>
		  </nav>
	</header>
	<main>
		<div class="main-container">
			<div class="reg-form">
				<form method="POST" action="../Controller/clientreg.php" onsubmit="return Validation()" >
					<div class="reg-header"><h2>Registration</h2></div>
					<div class="reg-text">
						Name:
					</div>
					<div class="reg-text-field"><input type="text" name="name"  id="name"></div>
					<div class="reg-text">
						Email:
					</div>
					<div class="reg-text-field"><input type="text" name="email"  id="email"></div>
					<div class="reg-text">
						Address:
					</div>
					<div class="reg-text-field"><input type="text" name="address"  id="address"></div>
					<div class="reg-text">
						Phone:
					</div>
					<div class="reg-text-field">	<input type="text" name="phone" id="phone"></div>
					<div class="reg-text">
						Deposit:
					</div>
					<div class="reg-text-field"><input type="text" name="deposit" id="deposit"></div>
					<div class="reg-text">
						Gender:
					</div>
					<div class="reg-text-field">	
						<select name="gender" id="gender">
							<option value=""></option>
							<option value="Male">Male</option>
							<option value="Female">Female</option>
							<option value="Other">Other</option>
						</select></div>
					<div class="reg-text">
						Date of Birth:
					</div>
					<div class="reg-text-field">
						<input type="date" name="dob"  id="dob">
					</div>
					<div class="reg-text">
						Password:
					</div>
					<div class="reg-text-field"><input type="password" name="password" id="password"></div>
					<div class="reg-text">
						Confirm Password:
					</div>
					<div class="reg-text-field"><input type="password" name="confirmpassword"  id="confirmpassword"></div>
					<div class="submit-btn"><input type="submit" name="submit" value="Submit"></div>
					<div class="reset">
						<input type="reset" name="reset" value="Reset">
					</div>
				</form>
			</div>
			</div>
		<footer>
			<div class="copyright">
				<p>Copyright &copy; CryptoBank</p>
			</div>
		</footer>
	</main>
	<script>
		function Validation()
		{
			const name = document.getElementById('name').value;
			const email = document.getElementById('email').value;
			const address = document.getElementById('address').value;
			const phone = document.getElementById('phone').value;
			const password = document.getElementById('password').value;
			const confirmpassword = document.getElementById('confirmpassword').value;
			const gender = document.getElementById('gender').value;
			const dob= document.getElementById('dob').value;
			const deposit = document.getElementById('deposit').value;

			let errorflag =false;
			let i=0;

			if(name == '' || email == '' || address == '' || phone == '' || password == '' || confirmpassword  == '' 
			|| gender == "" || dob == '' || deposit == '')
			{
				alert('Null Submission');
				errorflag=true;
			}
			else
			{
				let mailflag=false;
		
				for(i=0;i<email.length;i++)
				{
					if((email[i] == '@' ))
					{
						mailflag=true;
					}
				}
				if(mailflag == false)
				{
					alert('Invalid email Format');
					errorflag=true;
				}

				let phoneflag=false;
		
				for(i=0;i<phone.length;i++)
				{
					if((phone[i] >= 0 ) && (phone[i] <= 9 ))
					{
							phoneflag=true;				         
					}
				}
				if(phoneflag == false)
				{
					alert('Invalid phone number Format');
					errorflag=true;
				}

				if((phone.length <7) || (phone.length >11))
					{
						alert ('Invalid Phone Number');
						errorflag=true;
					}

				let depositflag=false;
		
				for(i=0;i<deposit.length;i++)
				{
					if((deposit[i] >= 0 ) && (deposit[i] <= 9 ))
					{
							depositflag=true;				         
					}
				}
				if(depositflag == false)
				{
					alert('Invalid deposit ammount');
					errorflag=true;
				}


				let passflag=false;

				for(i=0;i<password.length;i++)
				{
					if((password[i] == '@' || 
					password[i] == '$' ||
					password[i] == '#' ||
					password[i] == '%')) 
					{
						passflag=true;
					}
				}
		
				if(passflag == false)
				{
					alert ('Password must contain atleast one of the special characters (@, $, % or #!)');
					errorflag=true;
				}
				if(password.length < 4)
				{
					alert ('Password must contain atleast 4 characters');
					errorflag=true;
				}
		
				if(password != confirmpassword )
				{
					alert ("Confirmed password does't match with password");
					errorflag=true;
				}
				if(deposit<= 0)
				{
					alert ("Invalid deposit ammount");
					errorflag=true;
				}
			}
			if(errorflag==false)
			{
				return true;
			}
			else
			{
				return false;
			}
			
		}
	</script>
</body>
</html>